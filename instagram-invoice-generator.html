<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Instagram Invoice Generator | InstaOrderly</title>

<meta name="description" content="Free Instagram Invoice Generator for WhatsApp & COD sellers in Pakistan. Create professional PDF invoices instantly.">

<link rel="stylesheet" href="style.css">

<!-- jsPDF CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
<div class="container">

<h1>Instagram Invoice Generator</h1>
<p>Create professional invoices for Instagram & WhatsApp orders.</p>

<!-- CUSTOMER DETAILS -->
<input type="text" id="customerName" placeholder="Customer Name">
<input type="text" id="contactNumber" placeholder="Contact Number">
<textarea id="address" placeholder="Delivery Address"></textarea>

<hr>

<h3>Products</h3>
<div id="products"></div>

<button onclick="addProduct()">+ Add Product</button>

<hr>

<input type="text" id="paymentMethod" placeholder="Payment Method (COD / Bank / EasyPaisa)">

<h3>Total Amount: PKR <span id="totalAmount">0</span></h3>

<button onclick="generateInvoice()">Generate Invoice</button>

<!-- INVOICE PREVIEW -->
<div id="invoice" class="invoice-box" style="display:none; margin-top:30px;">
<h2>Invoice</h2>

<p><b>Customer:</b> <span id="iName"></span></p>
<p><b>Contact:</b> <span id="iContact"></span></p>
<p><b>Address:</b> <span id="iAddress"></span></p>
<p><b>Payment:</b> <span id="iPayment"></span></p>

<table border="1" width="100%" cellpadding="6">
<thead>
<tr>
<th>Product</th>
<th>Price</th>
<th>Qty</th>
<th>Total</th>
</tr>
</thead>
<tbody id="invoiceItems"></tbody>
</table>

<h3>Grand Total: PKR <span id="iTotal"></span></h3>

<button onclick="downloadPDF()">ðŸ“„ Download PDF</button>
<button onclick="shareWhatsApp()">ðŸ“² Share on WhatsApp</button>
</div>

</div>

<script>
function addProduct() {
  const div = document.createElement("div");
  div.innerHTML = `
    <input type="text" placeholder="Product Name" class="pname">
    <input type="number" placeholder="Price" class="price" oninput="calculateTotal()">
    <input type="number" placeholder="Qty" class="qty" oninput="calculateTotal()">
  `;
  document.getElementById("products").appendChild(div);
}

function calculateTotal() {
  let total = 0;
  document.querySelectorAll("#products div").forEach(row => {
    const price = row.querySelector(".price").value || 0;
    const qty = row.querySelector(".qty").value || 0;
    total += price * qty;
  });
  document.getElementById("totalAmount").innerText = total;
}

function generateInvoice() {
  document.getElementById("invoice").style.display = "block";

  iName.innerText = customerName.value;
  iContact.innerText = contactNumber.value;
  iAddress.innerText = address.value;
  iPayment.innerText = paymentMethod.value;

  const tbody = document.getElementById("invoiceItems");
  tbody.innerHTML = "";

  let total = 0;
  document.querySelectorAll("#products div").forEach(row => {
    const name = row.querySelector(".pname").value;
    const price = row.querySelector(".price").value;
    const qty = row.querySelector(".qty").value;
    const sub = price * qty;
    total += sub;

    tbody.innerHTML += `
      <tr>
        <td>${name}</td>
        <td>${price}</td>
        <td>${qty}</td>
        <td>${sub}</td>
      </tr>
    `;
  });

  iTotal.innerText = total;
}

function downloadPDF() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  let y = 10;
  doc.text("INVOICE", 10, y); y+=10;

  doc.text(Customer: ${iName.innerText},10,y); y+=8;
  doc.text(Contact: ${iContact.innerText},10,y); y+=8;
  doc.text(Address: ${iAddress.innerText},10,y); y+=8;
  doc.text(Payment: ${iPayment.innerText},10,y); y+=10;

  doc.text("Products:",10,y); y+=8;

  document.querySelectorAll("#invoiceItems tr").forEach(row=>{
    doc.text(row.innerText,10,y);
    y+=8;
  });

  doc.text(Total: PKR ${iTotal.innerText},10,y+5);

  doc.save("invoice.pdf");
}

function shareWhatsApp() {
  let message = Invoice Details:%0A;
  message += Customer: ${iName.innerText}%0A;
  message += Contact: ${iContact.innerText}%0A;
  message += Address: ${iAddress.innerText}%0A;
  message += Payment: ${iPayment.innerText}%0A%0AProducts:%0A;

  document.querySelectorAll("#invoiceItems tr").forEach(row=>{
    message += row.innerText + %0A;
  });

  message += %0AGrand Total: PKR ${iTotal.innerText};

  window.open(https://wa.me/?text=${message}, "_blank");
}
</script>

</body>
</html>
