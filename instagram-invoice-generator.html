<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>InstaOrderly â€“ Instagram Invoice Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- PDF Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}

body{
  margin:0;
  background:linear-gradient(135deg,#020617,#0f172a);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
  color:#fff;
}

.card{
  width:100%;
  max-width:430px;
  background:rgba(255,255,255,0.06);
  border-radius:20px;
  padding:24px;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
  backdrop-filter:blur(12px);
}

.brand{
  text-align:center;
  font-size:26px;
  font-weight:800;
  color:#22c55e;
  margin-bottom:4px;
}

.subtitle{
  text-align:center;
  font-size:14px;
  opacity:.85;
  margin-bottom:18px;
}

label{
  display:block;
  font-size:14px;
  margin-top:12px;
}

input,select{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  margin-top:6px;
  font-size:15px;
}

.product{
  background:#0f172a;
  padding:12px;
  border-radius:12px;
  margin-top:12px;
  border:1px solid #1e293b;
}

.btn{
  width:100%;
  padding:14px;
  margin-top:14px;
  border:none;
  border-radius:14px;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}

.add-btn{
  background:#1e293b;
  color:#fff;
}

.gen-btn{
  background:#22c55e;
  color:#022c22;
}

.wa-btn{
  background:#25D366;
  color:#022c22;
}

.footer{
  text-align:center;
  font-size:12px;
  margin-top:16px;
  opacity:.7;
}

/* Invoice */
.invoice{
  display:none;
  background:#fff;
  color:#000;
  border-radius:12px;
  padding:20px;
  margin-top:20px;
}
.invoice h2{
  margin-top:0;
  color:#0f172a;
}
.invoice p{
  margin:4px 0;
}
</style>
</head>

<body>

<div class="card">
  <div class="brand">InstaOrderly</div>
  <div class="subtitle">Invoice generator for Instagram sellers ðŸ‡µðŸ‡°</div>

  <label>Customer Name</label>
  <input id="customer" placeholder="Customer name">

  <label>Payment Method</label>
  <select id="payment">
    <option>Cash on Delivery</option>
    <option>Bank Transfer</option>
    <option>EasyPaisa</option>
    <option>JazzCash</option>
  </select>

  <div id="products"></div>

  <button class="btn add-btn" onclick="addProduct()">+ Add Product</button>
  <button class="btn gen-btn" onclick="generateInvoice()">Generate Invoice (PDF)</button>
  <button class="btn wa-btn" onclick="sendWhatsApp()">Send via WhatsApp</button>

  <div class="footer">Invoice generated via InstaOrderly</div>

  <!-- Invoice Preview -->
  <div id="invoice" class="invoice">
    <h2>InstaOrderly Invoice</h2>
    <p><b>Invoice No:</b> <span id="invNo"></span></p>
    <p><b>Date:</b> <span id="invDate"></span></p>
    <p><b>Customer:</b> <span id="invCustomer"></span></p>
    <p><b>Payment:</b> <span id="invPayment"></span></p>
    <hr>
    <div id="invProducts"></div>
    <hr>
    <h3>Total: PKR <span id="grandTotal">0</span></h3>
    <p style="font-size:12px;opacity:.7;margin-top:14px;">
      Invoice generated via InstaOrderly
    </p>
  </div>
</div>

<script>
let invoiceCounter = Number(localStorage.getItem("instaorderly_inv") || 1000);

function addProduct(){
  const div=document.createElement("div");
  div.className="product";
  div.innerHTML=`
    <label>Product Name</label>
    <input class="pname" placeholder="Product name">

    <label>Quantity</label>
    <input class="pqty" type="number" value="1" min="1">

    <label>Price (PKR)</label>
    <input class="pprice" type="number" placeholder="0">
  `;
  document.getElementById("products").appendChild(div);
}

addProduct(); // first product

function generateInvoice(){
  invoiceCounter++;
  localStorage.setItem("instaorderly_inv", invoiceCounter);

  document.getElementById("invoice").style.display="block";

  document.getElementById("invNo").innerText="INV-"+invoiceCounter;
  document.getElementById("invDate").innerText=new Date().toLocaleDateString();
  document.getElementById("invCustomer").innerText=
    document.getElementById("customer").value || "-";
  document.getElementById("invPayment").innerText=
    document.getElementById("payment").value;

  let total=0;
  let listHTML="";
  document.querySelectorAll(".product").forEach(p=>{
    const name=p.querySelector(".pname").value || "-";
    const qty=Number(p.querySelector(".pqty").value);
    const price=Number(p.querySelector(".pprice").value);
    const sub=qty*price;
    total+=sub;
    listHTML+=<p>${name} â€” ${qty} Ã— ${price} = PKR ${sub}</p>;
  });

  document.getElementById("invProducts").innerHTML=listHTML;
  document.getElementById("grandTotal").innerText=total;

  html2pdf().from(document.getElementById("invoice")).save("InstaOrderly-Invoice.pdf");
}

function sendWhatsApp(){
  const customer=document.getElementById("customer").value || "Customer";
  const total=document.getElementById("grandTotal").innerText;
  const inv=document.getElementById("invNo").innerText || "Invoice";

  const msg=
`Assalam o Alaikum ${customer},

Your invoice (${inv}) has been generated.

Total Amount: PKR ${total}

Please find the invoice PDF attached.

Thank you for choosing InstaOrderly.`;

  window.open("https://wa.me/?text="+encodeURIComponent(msg),"_blank");
}
</script>

</body>
</html>
