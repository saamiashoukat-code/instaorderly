<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Instagram Invoice Generator | InstaOrderlyâ„¢</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:linear-gradient(135deg,#020617,#0f172a);
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.card{
  width:100%;
  max-width:420px;
  background:#020617;
  border-radius:16px;
  padding:24px;
  box-shadow:0 20px 60px rgba(0,0,0,0.6);
}

h1{text-align:center;color:#60a5fa}
.subtitle{text-align:center;font-size:14px;opacity:.85;margin-bottom:20px}

label{font-size:14px;margin-top:12px;display:block}
input,select{
  width:100%;padding:12px;border-radius:10px;border:none;margin-top:6px;font-size:14px
}

button{
  width:100%;padding:14px;border:none;border-radius:12px;
  font-size:15px;margin-top:14px;cursor:pointer;font-weight:bold
}

.generate{background:#22c55e;color:#000}
.secondary{background:#0f172a;color:#fff}

.invoice{
  margin-top:20px;background:#020617;border:1px solid #1e293b;
  border-radius:12px;padding:16px;display:none
}

.footer{text-align:center;font-size:12px;margin-top:16px;opacity:.7}

/* POPUP */
.popup{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,.6);
  display:none;justify-content:center;align-items:center
}
.popup-box{
  background:#020617;padding:30px;border-radius:16px;
  max-width:320px;text-align:center
}
.popup-box h2{color:#22c55e;margin-top:0}
.popup-box button{margin-top:12px}
</style>
</head>

<body>

<div class="card">

<h1>Instagram Invoice Generator</h1>
<p class="subtitle">100 invoices FREE â€“ built for Pakistani sellers ðŸ‡µðŸ‡°</p>

<label>Customer Name</label>
<input id="customer">

<label>Payment Method</label>
<select id="payment">
  <option>Cash on Delivery</option>
  <option>Bank Transfer</option>
  <option>EasyPaisa</option>
  <option>JazzCash</option>
</select>

<label>Product Name</label>
<input id="product">

<label>Quantity</label>
<input id="qty" type="number" value="1" min="1">

<label>Price (PKR)</label>
<input id="price" type="number">

<button class="generate" onclick="generateInvoice()">Generate Invoice</button>
<button class="secondary" onclick="shareWhatsApp()">Share on WhatsApp</button>
<button class="secondary" onclick="downloadPDF()">Download PDF</button>

<div class="invoice" id="invoiceBox">
  <h3>Invoice</h3>
  <p><b>Customer:</b> <span id="invCustomer"></span></p>
  <p><b>Product:</b> <span id="invProduct"></span></p>
  <p><b>Quantity:</b> <span id="invQty"></span></p>
  <p><b>Payment:</b> <span id="invPayment"></span></p>
  <p><b>Price:</b> PKR <span id="invPrice"></span></p>
  <hr>
  <p><b>Total:</b> PKR <span id="invTotal"></span></p>
</div>

<p class="footer">Powered by <b>InstaOrderlyâ„¢</b></p>

</div>

<!-- PRO POPUP -->
<div class="popup" id="upgradePopup">
  <div class="popup-box">
    <h2>Upgrade to Pro ðŸš€</h2>
    <p>Youâ€™ve used your 100 free invoices.</p>
    <p><b>PKR 1,999 / month</b></p>
    <button class="generate" onclick="goToPricing()">View Pricing</button>
    <button class="secondary" onclick="closePopup()">Later</button>
  </div>
</div>

<script>
let invoiceCount = Number(localStorage.getItem("invoiceCount")) || 0;

function generateInvoice(){
  if(invoiceCount >= 100){
    document.getElementById("upgradePopup").style.display="flex";
    return;
  }

  const customerVal = customer.value || "â€”";
  const productVal = product.value || "â€”";
  const qtyVal = parseInt(qty.value) || 1;
  const priceVal = parseInt(price.value) || 0;
  const paymentVal = payment.value;

  if(priceVal <= 0){
    alert("Please enter valid price");
    return;
  }

  invoiceCount++;
  localStorage.setItem("invoiceCount", invoiceCount);

  invCustomer.innerText = customerVal;
  invProduct.innerText = productVal;
  invQty.innerText = qtyVal;
  invPayment.innerText = paymentVal;
  invPrice.innerText = priceVal;
  invTotal.innerText = qtyVal * priceVal;

  invoiceBox.style.display="block";
}

function shareWhatsApp(){
  const text =
`ðŸ“„ InstaOrderly Invoice
Customer: ${invCustomer.innerText}
Product: ${invProduct.innerText}
Total: PKR ${invTotal.innerText}`;
  window.open("https://wa.me/?text=" + encodeURIComponent(text));
}

function downloadPDF(){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  doc.setFontSize(18);
  doc.text("InstaOrderlyâ„¢ Invoice",20,20);

  doc.setFontSize(12);
  doc.text("Customer: "+invCustomer.innerText,20,40);
  doc.text("Product: "+invProduct.innerText,20,50);
  doc.text("Quantity: "+invQty.innerText,20,60);
  doc.text("Payment: "+invPayment.innerText,20,70);
  doc.text("Total: PKR "+invTotal.innerText,20,90);

  doc.setFontSize(10);
  doc.text("Powered by InstaOrderlyâ„¢",20,120);

  doc.save("invoice.pdf");
}

function goToPricing(){
  window.location.href = "pricing.html";
}

function closePopup(){
  document.getElementById("upgradePopup").style.display="none";
}
</script>

</body>
</html>
